<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Quoting</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.57"><LINK
REL="HOME"
TITLE="Advanced Bash-Scripting Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="Basics"
HREF="part2.html"><LINK
REL="PREVIOUS"
TITLE="Special Variable Types"
HREF="othertypesv.html"><LINK
REL="NEXT"
TITLE="Escaping"
HREF="escapingsection.html"><META
HTTP-EQUIV="Content-Style-Type"
CONTENT="text/css"><LINK
REL="stylesheet"
HREF="common/kde-common.css"
TYPE="text/css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=gb2312"><META
HTTP-EQUIV="Content-Language"
CONTENT="en"><LINK
REL="stylesheet"
HREF="common/kde-localised.css"
TYPE="text/css"
TITLE="KDE-English"><LINK
REL="stylesheet"
HREF="common/kde-default.css"
TYPE="text/css"
TITLE="KDE-Default"></HEAD
><BODY
CLASS="CHAPTER"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#AA0000"
VLINK="#AA0055"
ALINK="#AA0000"
STYLE="font-size:18px;
font-family:"黑体", Arial;
font-weight:bolder;
line-height:200%;"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Advanced Bash-Scripting Guide: An in-depth exploration of the art of shell scripting</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="othertypesv.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="escapingsection.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
>
  <H1
><A
NAME="QUOTING"
>第五章：引用</A
></H1
>
  <P
><A
NAME="QUOTINGREF"
></A
></P
>
  <P
>引用意味着保护在引号中的字符串. 引用在保护被引起字符串中的<A
HREF="special-chars.html#SCHARLIST1"
>特殊字符</A
>被shell或shell脚本解释或扩展. (如果一个字符能被特殊解释为不同于它字面上表示的意思，那么这个字符是“特殊”的,比如说通配符 -- <SPAN
CLASS="TOKEN"
>*</SPAN
>.)</P
>
  <P
>	      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
> <TT
CLASS="PROMPT"
>bash$ </TT
><TT
CLASS="USERINPUT"
><B
>ls -l [Vv]*</B
></TT
>
 <TT
CLASS="COMPUTEROUTPUT"
>-rw-rw-r--    1 bozo  bozo       324 Apr  2 15:05 VIEWDATA.BAT
 -rw-rw-r--    1 bozo  bozo       507 May  4 14:25 vartrace.sh
 -rw-rw-r--    1 bozo  bozo       539 Apr 14 17:11 viewdata.sh</TT
>
 
 <TT
CLASS="PROMPT"
>bash$ </TT
><TT
CLASS="USERINPUT"
><B
>ls -l '[Vv]*'</B
></TT
>
 <TT
CLASS="COMPUTEROUTPUT"
>ls: [Vv]*: No such file or directory</TT
></PRE
></TD
></TR
></TABLE
>	      
	      </P
><TABLE
CLASS="SIDEBAR"
BORDER="1"
CELLPADDING="5"
><TR
><TD
><DIV
CLASS="SIDEBAR"
><A
NAME="AEN1963"
></A
>
          <P
>在日常的演讲和写作中，我们使用双引号(&quot;&quot;)引用一个短语,使短语被分开以示特别。在Bash脚本中，当我们引用一个字符串，也会把它分隔开以表示它原来字面上的意思。</P
>
        </DIV
></TD
></TR
></TABLE
>
  <P
>某些程序和软件包可以重新解释或扩展引号里的特殊字符。引号一个很重要的作用是保护命令行上的一个参数不被shell解释，而把此参数传递给要执行的程序来处理它。</P
>
  <P
>	      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
> <TT
CLASS="PROMPT"
>bash$ </TT
><TT
CLASS="USERINPUT"
><B
>grep '[Ff]irst' *.txt</B
></TT
>
 <TT
CLASS="COMPUTEROUTPUT"
>file1.txt:This is the first line of file1.txt.
 file2.txt:This is the First line of file2.txt.</TT
></PRE
></TD
></TR
></TABLE
>
	      </P
>
  <P
>注意在Bash shell下如果没有用引号的命令<TT
CLASS="USERINPUT"
><B
>grep [Ff]irst *.txt</B
></TT
>会怎么样。<A
NAME="AEN1976"
HREF="#FTN.AEN1976"
>[1]</A
> </P
>
  <P
>引号也能改掉<A
HREF="internal.html#ECHOREF"
>echo's</A
><SPAN
CLASS="QUOTE"
>不换行的“习惯”。</SPAN
></P
>
  <P
>	      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
> <TT
CLASS="PROMPT"
>bash$ </TT
><TT
CLASS="USERINPUT"
><B
>echo $(ls -l)</B
></TT
>
 <TT
CLASS="COMPUTEROUTPUT"
>total 8 -rw-rw-r-- 1 bozo bozo 130 Aug 21 12:57 t222.sh -rw-rw-r-- 1 bozo bozo 78 Aug 21 12:57 t71.sh</TT
>
 
 
 <TT
CLASS="PROMPT"
>bash$ </TT
><TT
CLASS="USERINPUT"
><B
>echo "$(ls -l)"</B
></TT
>
 <TT
CLASS="COMPUTEROUTPUT"
>total 8
 -rw-rw-r--  1 bozo bozo 130 Aug 21 12:57 t222.sh
 -rw-rw-r--  1 bozo bozo  78 Aug 21 12:57 t71.sh</TT
></PRE
></TD
></TR
></TABLE
>
	      </P
><DIV
CLASS="SECT1"
>
    <H1
CLASS="SECT1"
><A
NAME="QUOTINGVAR"
>5.1. 引用变量</A
></H1
>
    <P
>当要引用一个变量的值时，一般推荐使用双引号。使用双引号除了变量名<A
NAME="AEN1994"
HREF="#FTN.AEN1994"
>[2]</A
>前缀($)、后引符(`)和转义符(\)外，会使shell不再解释引号中其它所有的特殊字符。<A
NAME="AEN2000"
HREF="#FTN.AEN2000"
>[3]</A
> 用双引号时$仍被当成特殊字符，允许引用一个被双引号引起的变量(&quot;$variable&quot;), 那也是说$variable会被它的值所代替。(参考上面的<A
HREF="variables.html#EX9"
>例子 4-1</A
>).</P
>
    <P
>用双引号还能使句子不被分割开. <A
NAME="AEN2024"
HREF="#FTN.AEN2024"
>[4]</A
> 一个参数用双引号引起来能使它被看做一个单元，这样即使参数里面包含有<A
HREF="special-chars.html#WHITESPACEREF"
>空白字符</A
>也不会被shell分割开了。
    <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>   1&nbsp;variable1="a variable containing five words"
   2&nbsp;COMMAND This is $variable1    # 用下面7个参数执行COMMAND命令:
   3&nbsp;# "This" "is" "a" "variable" "containing" "five" "words"
   4&nbsp;
   5&nbsp;COMMAND "This is $variable1"  # 用下面1个参数执行COMMAND命令:
   6&nbsp;# "This is a variable containing five words"
   7&nbsp;
   8&nbsp;
   9&nbsp;variable2=""    # 空字符串。
  10&nbsp;
  11&nbsp;COMMAND $variable2 $variable2 $variable2        # 没有带参数执行COMMAND 命令
  12&nbsp;COMMAND "$variable2" "$variable2" "$variable2"  # 用三个含空字符串的参数执行COMMAND命令
  13&nbsp;COMMAND "$variable2 $variable2 $variable2"      # 用一个包含两个空白符的参数执行COMMAND命令
  14&nbsp;
  15&nbsp;# Thanks, St