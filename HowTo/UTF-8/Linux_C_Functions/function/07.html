<html>
<head>
<title>Untitled Document</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
</head>

<body>
<table width="100%">
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc90></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        endgrent（关闭组文件） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getgrent，setgrent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> void endgrent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> endgrent()用来关闭由getgrent()所打开的密码文件。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 附加说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 请参考getgrent()与setgrent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc91></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        endpwent（关闭密码文件） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getpwent，setpwent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> void endpwent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> endpwent()用来关闭由getpwent()所打开的密码文件。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 附加说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 请参考getpwent()与setpwent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc92></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        endutent（关闭utmp 文件） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getutent，setutent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;utmp.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> void endutent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> endutent()用来关闭由getutent所打开的utmp文件。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 附加说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 请参考getutent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc93></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        fgetgrent（从指定的文件来读取组格式） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> fgetpwent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;grp.h&gt;<br>
        #include&lt;stdio.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> struct group * getgrent(FILE 
        * stream);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> fgetgrent()会从参数stream指定的文件读取一行数据，然后以group结构将该数据返回。参数stream所指定的文件必须和、etc/group相同的格式。group结构定义请参考getgrent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 返回group结构数据，如果返回NULL则表示已无数据，或有错误发生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include &lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        #include&lt;stdio.h&gt;<br>
        main()<br>
        {<br>
        struct group *data;<br>
        FILE *stream;<br>
        int i;<br>
        stream = fopen("/etc/group", "r");<br>
        while((data = fgetgrent(stream))!=0){<br>
        i=0;<br>
        printf("%s :%s:%d :", data-&gt;gr_name,data-&gt;gr_passwd,data-&gt;gr_gid);<br>
        while (data-&gt;gr_mem[i])printf("%s,",data-&gt;gr_mem[i++]);<br>
        printf("\n");<br>
        }<br>
        fclose(stream);<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> root:x:0:root,<br>
        bin:x:1:root,bin,daemon<br>
        daemon:x:2:root,bin,daemon<br>
        sys:x:3:root,bin,adm<br>
        adm:x:4:root,adm,daemon<br>
        tty:x:5<br>
        disk:x:6:root<br>
        lp:x:7:daemon,lp<br>
        mem:x:8<br>
        kmem:x:9<br>
        wheel:x:10:root<br>
        mail:x:12:mail<br>
        news:x:13:news<br>
        uucp:x:14:uucp<br>
        man:x:15<br>
        games:x:20<br>
        gopher:x:30<br>
        dip:x:40:<br>
        ftp:x:50<br>
        nobody:x:99:<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc94></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        fgetpwent（从指定的文件来读取密码格式） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> fgetgrent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;stdio.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> struct passwd * fgetpwent(FILE 
        *stream);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> fgetpwent()会从参数stream指定的文件读取一行数据，然后以passwd结构将该数据返回。参数stream所指定的文件必须和/etc/passwd相同的格式。passwd结构定义请参考getpwent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 返回passwd结构数据，如果返回NULL则表示已无数据，或有错误发生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        struct passwd *user;<br>
        FILE *stream;<br>
        stream = fopen("/etc/passwd", "r");<br>
        while((user = fgetpwent(stream))!=0){<br>
        printf("%s:%d:%d:%s:%s:%s\n",user-&gt;pw_name,user-&gt;pw_uid,user-&gt;pw_gid,user-&gt;pw_gecos,user-&gt;pw_dir,user-&gt;pw_shell);<br>
        }<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> root:0:0:root:/root:/bin/bash<br>
        bin:1:1:bin:/bin:<br>
        daemon:2:2:daemon:/sbin:<br>
        adm:3:4:adm:/var/adm:<br>
        lp:4:7:lp:/var/spool/lpd:<br>
        sync:5:0:sync:/sbin:/bin/sync<br>
        shutdown:6:0:shutdown:/sbin:/sbin/shutdown<br>
        halt:7:0:halt:/sbin:/sbin/halt<br>
        mail:8:12:mail:/var/spool/mail:<br>
        news:9:13:news:var/spool/news<br>
        uucp:10:14:uucp:/var/spool/uucp:<br>
        operator:11:0:operator :/root:<br>
        games:12:100:games:/usr/games:<br>
        gopher:13:30:gopher:/usr/lib/gopher-data:<br>
        ftp:14:50:FTP User:/home/ftp:<br>
        nobody:99:99:Nobody:/:<br>
        xfs:100:101:X Font Server: /etc/Xll/fs:/bin/false<br>
        gdm:42:42:/home/gdm:/bin/bash<br>
        kids:500:500: : /home/kids:/bin/bash<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc95></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        getegid（取得有效的组识别码） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getgid，setgid，setregid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;unistd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> gid_t getegid(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getegid()用来取得执行目前进程有效组识别码。有效的组识别码用来决定进程执行时组的权限。返回值返回有效的组识别码。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> main()<br>
        { <br>
        printf("egid is %d\n",getegid());<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> egid is 0 /*当使用root身份执行范例程序时*/<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc96></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        geteuid（取得有效的用户识别码） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getuid，setreuid，setuid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;unistd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> uid_t geteuid(void)<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> geteuid()用来取得执行目前进程有效的用户识别码。有效的用户识别码用来决定进程执行的权限，借由此改变此值，进程可以获得额外的权限。倘若执行文件的setID位已被设置，该文件执行时，其进程的euid值便会设成该文件所有者的uid。例如，执行文件/usr/bin/passwd的权限为-r-s--x--x，其s 
        位即为setID(SUID)位，而当任何用户在执行passwd 时其有效的用户识别码会被设成passwd 所有者的uid 值，即root的uid 
        值(0)。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 返回有效的用户识别码。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> main()<br>
        { <br>
        printf ("euid is %d \n",geteuid());<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> euid is 0 /*当使用root身份执行范例程序时*/<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc97></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        getgid（取得真实的组识别码） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getegid，setregid，setgid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;unistd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> gid_t getgid(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getgid()用来取得执行目前进程的组识别码。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 返回组识别码<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> main()<br>
        {<br>
        printf(“gid is %d\n”,getgid());<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> gid is 0 /*当使用root身份执行范例程序时*/<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc98></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        getgrent（从组文件中取得账号的数据） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setgrent，endgrent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;grp.h&gt;<br>
        #include &lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> struct group *getgrent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getgrent()用来从组文件(/etc/group)中读取一项组数据，该数据以group 
        结构返回。第一次调用时会取得第一项组数据，之后每调用一次就会返回下一项数据，直到已无任何数据时返回NULL。<br>
        struct group{<br>
        char *gr_name; /*组名称*/<br>
        char *gr_passwd; /* 组密码*/<br>
        gid_t gr_gid; /*组识别码*/<br>
        char **gr_mem; /*组成员账号*/<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 返回group结构数据，如果返回NULL则表示已无数据，或有错误发生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 附加说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getgrent()在第一次调用时会打开组文件，读取数据完毕后可使用endgrent()来关闭该组文件。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 错误代码 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> ENOMEM 内存不足，无法配置group结构。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        struct group *data;<br>
        int i;<br>
        while((data= getgrent())!=0){<br>
        i=0;<br>
        printf(“%s:%s:%d:”,data-&gt;gr_name,data-&gt;gr_passwd,data-&gt;gr_gid);<br>
        while(data-&gt;gr_mem[i])printf(“%s,”,data-&gt;gr_mem[i++]);<br>
        printf(“\n”);<br>
        }<br>
        endgrent();<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> root:x:0:root,<br>
        bin:x:1:root,bin,daemon,<br>
        daemon:x:2:root,bin,daemon,<br>
        sys:x:3:root,bin,adm,<br>
        adm:x:4:root,adm,daemon<br>
        tty:x:5<br>
        disk:x:6:root<br>
        lp:x:7:daemon,lp<br>
        mem:x:8<br>
        kmem:x:9:<br>
        wheel:x:10:root<br>
        mail:x:12:mail<br>
        news:x:13:news<br>
        uucp:x:14:uucp<br>
        man:x:15:<br>
        games:x:20<br>
        gopher:x:30<br>
        dip:x:40<br>
        ftp:x:50<br>
        nobody:x:99<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc99></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        getgrgid（从组文件中取得指定gid 的数据） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> fgetgrent，getgrent，getgrnam<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> strcut group * getgrgid(gid_t 
        gid);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getgrgid（）用来依参数gid指定的组识别码逐一搜索组文件，找到时便将该组的数据以group结构返回。group结构请参考getgrent（）。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 返回group结构数据，如果返回NULL则表示已无数据，或有错误发生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> /* 取得gid＝3的组数据*/<br>
        #include&lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        strcut group *data;<br>
        int i=0;<br>
        data = getgrgid(3);<br>
        printf(“%s:%s:%d:”,data-&gt;gr_name,data-&gt;gr_passwd,data-&gt;gr_gid);<br>
        while(data-&gt;gr_mem[i])printf(“%s ,”,data-&gt;mem[i++]);<br>
        printf(“\n”);<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> sys:x:3:root,bin,adm<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc100></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        getgrnam（从组文件中取得指定组的数据） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> fgetgrent，getrent，getgruid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> strcut group * getgrnam(const 
        char * name);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getgrnam（）用来逐一搜索参数那么指定的组名称，找到时便将该组的数据以group结构返回。group 
        结构请参考getgrent（）。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 返回group结构数据，如果返回NULL则表示已无数据，或有错误发生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> /* 取得adm的组数据*/<br>
        #include&lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        strcut group * data;<br>
        int i=0;<br>
        data = getgrnam(“adm”);<br>
        printf(“%s:%s:%d:”,data-&gt;gr_name,data-&gt;gr_passwd,data-&gt;gr_gid);<br>
        while(data-&gt;gr_mem[i])printf(“%s,”,data-&gt;gr_mem[i++]);<br>
        printf(“\n”);<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> adm:x:4:root,adm,daemon<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc101></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        getgroups（取得组代码） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> initgroups，setgroup，getgid，setgid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;unistd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> int getgroups(int size,gid_t 
        list[]);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getgroup（）用来取得目前用户所属的组代码。参数size为list〔〕所能容纳的gid_t 
        数目。如果参数size 值为零，此函数仅会返回用户所属的组数。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 返回组识别码，如有错误则返回-1。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 错误代码 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> EFAULT 参数list数组地址不合法。EINVAL 
        参数size值不足以容纳所有的组。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;unistd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        gid_t list[500];<br>
        int x,i;<br>
        x = getgroups(0.list);<br>
        getgroups(x,list);<br>
        for(i=0;i&lt;x;i++)<br>
        printf(“%d:%d\n”,i,list[i]);<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 0:00<br>
        1:01<br>
        2:02<br>
        3:03<br>
        4:04<br>
        5:06<br>
        6:10<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc102></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        getpw（取得指定用户的密码文件数据） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getpwent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> int getpw(uid_t uid,char *buf);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getpw()会从/etc/passwd中查找符合参数uid所指定的用户账号数据，找不到相关数据就返回-1。所返回的buf字符串格式如下:账号:密码:用户识别码(uid):组识别码(gid):全名:根目录:shell<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 返回0表示成功，有错误发生时返回-1。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 附加说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 1. getpw()会有潜在的安全性问题，请尽量使用别的函数取代。<br>
        2. 使用shadow的系统已把用户密码抽出/etc/passwd，因此使用getpw()取得的密码将为“x”。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        char buffer[80];<br>
        getpw(0,buffer);<br>
        printf(“%s\n”,buffer);<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> root:x:0:0:root:/root:/bin/bash<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc103></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        getpwent（从密码文件中取得账号的数据） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getpw，fgetpwent，getpwnam，getpwuid，setpwent，endpwent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> strcut passwd * getpwent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getpwent（）用来从密码文件（/etc/passwd）中读取一项用户数据，该用户的数据以passwd 
        结构返回。第一次调用时会取得第一位用户数据，之后每调用一次就会返回下一项数据，直到已无任何数据时返回NULL。<br>
        passwd 结构定义如下<br>
        struct passwd{<br>
        char * pw_name; /*用户账号*/<br>
        char * pw_passwd; /*用户密码*/<br>
        uid_t pw_uid; /*用户识别码*/<br>
        gid_t pw_gid; /*组识别码*/<br>
        char * pw_gecos; /*用户全名*/<br>
        char * pw_dir; /*家目录*/<br>
        char * pw_shell; /* 所使用的shell路径*/<br>
        };<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 返回passwd 结构数据，如果返回NULL 则表示已无数据，或有错误发生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 附加说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getpwent()在第一次调用时会打开密码文件，读取数据完毕后可使用endpwent()来关闭该密码文件。错误代码ENOMEM 
        内存不足，无法配置passwd结构。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        struct passwd *user;<br>
        while((user = getpwent())!=0){<br>
        printf(“%s:%d:%d:%s:%s:%s\n”,user-&gt;pw_name,user-&gt;pw_uid,user-&gt;pw_gid,<br>
        user-&gt;pw_gecos,user-&gt;pw_dir,user-&gt;pw_shell);<br>
        }<br>
        endpwent();<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> root:0:0:root:/root:/bin/bash<br>
        bin:1:1:bin:/bin:<br>
        daemon:2:2:daemon:/sbin:<br>
        adm:3:4:adm:/var/adm:<br>
        lp:4:7:lp:/var/spool/lpd:<br>
        sync:5:0:sync:/sbin:/bin/sync<br>
        shutdown:6:0:shutdown:/sbin:/sbin/shutdown<br>
        halt:7:0:halt:/sbin:/sbin/halt<br>
        mail:8:12:mail:/var/spool/mail:<br>
        news:9:13:news:var/spool/news<br>
        uucp:10:14:uucp:/var/spool/uucp:<br>
        operator:11:0:operator :/root:<br>
        games:12:100:games:/usr/games:<br>
        gopher:13:30:gopher:/usr/lib/gopher-data:<br>
        ftp:14:50:FTP User:/home/ftp:<br>
        nobody:99:99:Nobody:/:<br>
        xfs:100:101:X Font Server: /etc/Xll/fs:/bin/false<br>
        gdm:42:42:/home/gdm:/bin/bash<br>
        kids:500:500: : /home/kids:/bin/bash<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc104></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        getpwnam（从密码文件中取得指定账号的数据） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getpw，fgetpwent，getpwent，getpwuid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> struct passwd * getpwnam(const 
        char * name);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getpwnam()用来逐一搜索参数name 指定的账号名称，找到时便将该用户的数据以passwd结构返回。passwd结构请参考getpwent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 返回passwd 结构数据，如果返回NULL 则表示已无数据，或有错误发生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> /*取得root账号的识别码和根目录*/<br>
        #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        struct passwd *user;<br>
        user = getpwnam(“root”);<br>
        printf(“name:%s\n”,user-&gt;pw_name);<br>
        printf(“uid:%d\n”,user-&gt;pw_uid);<br>
        printf(“home:%s\n”,user-&gt;pw_dir);<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> name:root<br>
        uid:0<br>
        home:/root<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc105></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        getpwuid（从密码文件中取得指定uid 的数据） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getpw，fgetpwent，getpwent，getpwnam<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> struct passwd * getpwuid(uid_t 
        uid);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getpwuid()用来逐一搜索参数uid 指定的用户识别码，找到时便将该用户的数据以结构返回结构请参考将该用户的数据以passwd 
        结构返回。passwd 结构请参考getpwent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 返回passwd 结构数据，如果返回NULL 则表示已无数据，或者有错误发生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        struct passwd *user;<br>
        user= getpwuid(6);<br>
        printf(“name:%s\n”,user-&gt;pw_name);<br>
        printf(“uid:%d\n”,user-&gt;pw_uid);<br>
        printf(“home:%s\n”,user-&gt;pw_dir);<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> name:shutdown<br>
        uid:6<br>
        home:/sbin<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc106></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        getuid（取得真实的用户识别码） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> geteuid，setreuid，setuid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;unistd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> uid_t getuid(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getuid()用来取得执行目前进程的用户识别码。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 用户识别码<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> main()<br>
        { <br>
        printf(“uid is %d\n”,getuid());<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> uid is 0 /*当使用root身份执行范例程序时*/<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc107></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        getutent（从utmp 文件中取得账号登录数据） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getutent，getutid，getutline，setutent，endutent，pututline，utmpname<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;utmp.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> struct utmp *getutent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getutent()用来从utmp 文件(/var/run/utmp)中读取一项登录数据，该数据以utmp 
        结构返回。第一次调用时会取得第一位用户数据，之后每调用一次就会返回下一项数据，直到已无任何数据时返回NULL。<br>
        utmp结构定义如下<br>
        struct utmp<br>
        {<br>
        short int ut_type; /*登录类型*/<br>
        pid_t ut_pid; /*login进程的pid*/<br>
        char ut_line[UT_LINESIZE];/*登录装置名，省略了“/dev/”*/<br>
        char ut_id[4]; /* Inittab ID*/<br>
        char ut_user[UT_NAMESIZE];/*登录账号*/<br>
        char ut_host[UT_HOSTSIZE];/*登录账号的远程主机名称*/<br>
        struxt exit_status ut_exit;/* 当类型为DEAD_PROCESS时进程的结<br>
        束状态*/<br>
        long int ut_session; /*Sessioc ID*/<br>
        struct timeval ut_tv; /*时间记录*/<br>
        int32_t ut_addr_v6[4]; /*远程主机的网络地址*/<br>
        char __unused[20]; /* 保留未使用*/<br>
        };<br>
        ut_type有以下几种类型:<br>
        EMPTY 此为空的记录。<br>
        RUN_LVL 记录系统run－level的改变<br>
        BOOT_TIME 记录系统开机时间<br>
        NEW_TIME 记录系统时间改变后的时间<br>
        OLD_TINE 记录当改变系统时间时的时间。<br>
        INIT_PROCESS 记录一个由init衍生出来的进程。<br>
        LOGIN_PROCESS 记录login进程。<br>
        USER_PROCESS 记录一般进程。<br>
        DEAD_PROCESS 记录一结束的进程。<br>
        ACCOUNTING 目前尚未使用。<br>
        exit_status结构定义<br>
        struct exit_status<br>
        {<br>
        short int e_termination; /*进程结束状态*/<br>
        short int e_exit; /*进程退出状态*/<br>
        };<br>
        timeval的结构定义请参考gettimeofday（）。<br>
        相关常数定义如下:<br>
        UT_LINESIZE 32<br>
        UT_NAMESIZE 32<br>
        UT_HOSTSIZE 256<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 返回utmp 结构数据，如果返回NULL 则表示已无数据，或有错误发生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 附加说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getutent()在第一次调用时会打开utmp 文件，读取数据完毕后可使用endutent()来关闭该utmp文件。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;utmp.h&gt;<br>
        main()<br>
        {<br>
        struct utmp *u;<br>
        while((u=getutent())){<br>
        if(u-&gt;ut_type = = USER_PROCESS)<br>
        printf(“%d %s %s %s \n”,u-&gt;ut_type,u-&gt;ut_user,u-&gt;ut_line,u-&gt;ut_host);<br>
        }<br>
        endutent();<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> /* 表示有三个root账号分别登录/dev/pts/0，/dev/pts/1，/dev/pts/2 
        */<br>
        7 root pts/0<br>
        7 root pts/1<br>
        7 root pts/2<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc108></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        getutid（从utmp 文件中查找特定的记录） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getutent，getutline<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;utmp.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> strcut utmp *getutid(strcut 
        utmp *ut);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getutid()用来从目前utmp 文件的读写位置逐一往后搜索参数ut指定的记录，如果ut-&gt;ut_type 
        为RUN_LVL，BOOT_TIME，NEW_TIME，OLD_TIME 其中之一则查找与ut-&gt;ut_type 相符的记录；若ut-&gt;ut_type 
        为INIT_PROCESS，LOGIN_PROCESS，USER_PROCESS或DEAD_PROCESS其中之一，则查找与ut-&gt;ut_id相符的记录。找到相符的记录便将该数据以utmp 
        结构返回。utmp结构请参考getutent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 返回utmp 结构数据，如果返回NULL 则表示已无数据，或有错误发生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;utmp.h&gt;<br>
        main()<br>
        {<br>
        struct utmp ut,*u;<br>
        ut.ut_type=RUN_LVL;<br>
        while((u= getutid(&ut))){<br>
        printf(“%d %s %s %s\n”,u-&gt;ut_type,u-&gt;ut_user,u-&gt;ut_line,u-&gt;ut_host);<br>
        }<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 1 runlevel -<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc109></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        getutline（从utmp 文件中查找特定的记录） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getutent，getutid，pututline<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;utmp.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> struct utmp * getutline (struct 
        utmp *ut);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getutline()用来从目前utmp文件的读写位置逐一往后搜索ut_type为USER_PROCESS 
        或LOGIN_PROCESS 的记录，而且ut_line 和ut-&gt;ut_line 相符。找到相符的记录便将该数据以utmp 结构返回，utmp结构请参考getutent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 返回utmp 结构数据，如果返回NULL 则表示已无数据，或有错误发生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;utmp.h&gt;<br>
        main()<br>
        {<br>
        struct utmp ut,*u;<br>
        strcpy (ut.ut_line,”pts/1”);<br>
        while ((u=getutline(&ut))){<br>
        printf(“%d %s %s %s \n”,u-&gt;ut_type,u-&gt;ut_user,u-&gt;ut_line,u-&gt;ut_host);<br>
        }<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 7 root pts/1<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc110></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        initgroups（初始化组清单） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setgrent，endgrent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> int initgroups(const char *user,gid_t 
        group);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> initgroups（）用来从组文件（/etc/group）中读取一项组数据，若该组数据的成员中有参数user时，便将参数group组识别码加入到此数据中。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 执行成功则返回0，失败则返回-1，错误码存于errno。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc111></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        pututline（将utmp 记录写入文件） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getutent，getutid，getutline<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;utmp.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> void pututline(struct utmp *ut);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> pututline()用来将参数ut的utmp结构记录到utmp文件中。此函数会先用getutid()来取得正确的写入位置，如果没有找到相符的记录则会加入到utmp文件尾，utmp结构请参考getutent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 附加说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 需要有写入/var/run/utmp 的权限<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;utmp.h&gt;<br>
        main()<br>
        {<br>
        struct utmp ut;<br>
        ut.ut_type =USER_PROCESS;<br>
        ut.ut_pid=getpid();<br>
        strcpy(ut.ut_user,”kids”);<br>
        strcpy(ut.ut_line,”pts/1”);<br>
        strcpy(ut.ut_host,”www.gnu.org”);<br>
        pututline(&ut);<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> /*执行范例后用指令who -l 观察*/<br>
        root pts/0 dec9 19:20<br>
        kids pts/1 dec12 10:31(www.gnu.org)<br>
        root pts/2 dec12 13:33<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc112></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        seteuid（设置有效的用户识别码） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setuid，setreuid，setfsuid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;unistd.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> int seteuid(uid_t euid);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> seteuid()用来重新设置执行目前进程的有效用户识别码。在Linux下，seteuid(euid)相当于setreuid(-1,euid)。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 执行成功则返回0，失败则返回-1，错误代码存于errno<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 附加说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 请参考setuid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc113></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        setfsgid（设置文件系统的组识别码） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setuid，setreuid，seteuid，setfsuid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;unistd.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> int setfsgid(uid_t fsgid);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setfsgid()用来重新设置目前进程的文件系统的组识别码。一般情况下，文件系统的组识别码(fsgid)与有效的组识别码(egid)是相同的。如果是超级用户调用此函数，参数fsgid 
        可以为任何值，否则参数fsgid必须为real/effective/saved的组识别码之一。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 执行成功则返回0，失败则返回-1，错误代码存于errno。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 附加说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 此函数为Linux特有。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 错误代码 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> EPERM 权限不够，无法完成设置。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc114></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        setfsuid（设置文件系统的用户识别码） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setuid，setreuid，seteuid，setfsgid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;unistd.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> int setfsuid(uid_t fsuid);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setfsuid()用来重新设置目前进程的文件系统的用户识别码。一般情况下，文件系统的用户识别码(fsuid)与有效的用户识别码(euid)是相同的。如果是超级用户调用此函数，参数fsuid可以为任何值，否则参数fsuid必须为real/effective/saved的用户识别码之一。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 执行成功则返回0，失败则返回-1，错误代码存于errno<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 附加说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 此函数为Linux特有<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 错误代码 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> EPERM 权限不够，无法完成设置。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc115></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        setgid（设置真实的组识别码） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getgid，setregid，getegid，setegid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;unistd.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> int setgid(gid_t gid);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setgid()用来将目前进程的真实组识别码(real 
        gid)设成参数gid值。如果是以超级用户身份执行此调用，则real、effective与savedgid都会设成参数gid。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 设置成功则返回0，失败则返回-1，错误代码存于errno中。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 错误代码 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> EPERM 并非以超级用户身份调用，而且参数gid 并非进程的effective 
        gid或saved gid值之一。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc116></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        setgrent（从头读取组文件中的组数据） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getgrent，endgrent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> void setgrent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setgrent()用来将getgrent()的读写地址指回组文件开头。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 附加说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 请参考setpwent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc117></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        setgroups（设置组代码） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> initgroups，getgroup，getgid，setgid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;grp.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> int setgroups(size_t size,const 
        gid_t * list);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setgroups()用来将list 数组中所标明的组加入到目前进程的组设置中。参数size为list()的gid_t数目，最大值为NGROUP(32)。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 设置成功则返回0，如有错误则返回-1。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 错误代码 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> EFAULT 参数list数组地址不合法。<br>
        EPERM 权限不足，必须是root权限<br>
        EINVAL 参数size值大于NGROUP(32)。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc118></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        setpwent（从头读取密码文件中的账号数据） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getpwent，endpwent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> void setpwent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setpwent()用来将getpwent()的读写地址指回密码文件开头。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 范例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        struct passwd *user;<br>
        int i;<br>
        for(i=0;i&lt;4;i++){<br>
        user=getpwent();<br>
        printf(“%s :%d :%d :%s:%s:%s\n”,user-&gt;pw_name,user-&gt;pw_uid,user-&gt;pw_gid,<br>
        user-&gt;pw_gecos,user-&gt;pw_dir,user-&gt;pw_shell);<br>
        }<br>
        setpwent();<br>
        user=getpwent();<br>
        printf(“%s :%d :%d :%s:%s:%s\n”,user-&gt;pw_name,user-&gt;pw_uid,user-&gt;pw_gid,<br>
        user-&gt;pw_gecos,user-&gt;pw_dir,user-&gt;pw_shell);<br>
        endpwent();<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 执行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> root:0:0:root:/root:/bin/bash<br>
        bin:1:1:bin:/bin<br>
        daemon:2:2:daemon:/sbin<br>
        adm:3:4:adm:/var/adm<br>
        root:0:0:root:/root:/bin/bash<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc119></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        setregid（设置真实及有效的组识别码） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setgid，setegid，setfsgid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;unistd.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> int setregid(gid_t rgid,gid_t 
        egid);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setregid()用来将参数rgid设为目前进程的真实组识别码，将参数egid设置为目前进程的有效组识别码。如果参数rgid或egid值为-1，则对应的识别码不会改变。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 执行成功则返回0，失败则返回-1，错误代码存于errno。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc120></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        setreuid（设置真实及有效的用户识别码） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setuid，seteuid，setfsuid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;unistd.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> int setreuid(uid_t ruid,uid_t 
        euid);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setreuid()用来将参数ruid 设为目前进程的真实用户识别码，将参数euid 
        设置为目前进程的有效用户识别码。如果参数ruid 或euid值为-1，则对应的识别码不会改变。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 执行成功则返回0，失败则返回-1，错误代码存于errno。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 附加说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 请参考setuid（）。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc121></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        setuid（设置真实的用户识别码） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getuid，setreuid，seteuid，setfsuid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;unistd.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> int setuid(uid_t uid)<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setuid()用来重新设置执行目前进程的用户识别码。不过，要让此函数有作用，其有效的用户识别码必须为0(root)。在Linux下，当root使用setuid()来变换成其他用户识别码时，root权限会被抛弃，完全转换成该用户身份，也就是说，该进程往后将不再具有可setuid()的权利，如果只是向暂时抛弃root 
        权限，稍后想重新取回权限，则必须使用seteuid()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 执行成功则返回0，失败则返回-1，错误代码存于errno。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 附加说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 一般在编写具setuid root的程序时，为减少此类程序带来的系统安全风险，在使用完root权限后建议马上执行setuid(getuid());来抛弃root权限。此外，进程uid和euid不一致时Linux系统将不会产生core 
        dump。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc122></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        setutent（从头读取utmp 文件中的登录数据） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getutent，endutent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;utmp.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> void setutent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> setutent()用来将getutent()的读写地址指回utmp文件开头。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 附加说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> 请参考setpwent()或setgrent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋体' size='2'><a name=linuxc123></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        utmpname（设置utmp 文件路径） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 相关函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> getutent，getutid，getutline，setutent，endutent，pututline<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 表头文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> #include&lt;utmp.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 定义函数 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> void utmpname(const char * file);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 函数说明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> utmpname()用来设置utmp文件的路径，以提供utmp相关函数的存取路径。如果没有使用utmpname()则默认utmp文件路径为/var/run/utmp。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋体' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋体' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
      </div>
    </td>
  </tr>
</table>
</body>
</html>
